# ğŸ“Š 35å¹´Aè‚¡æ•°æ®åˆ†æå¹³å°

ä¸€ä¸ªå®Œæ•´çš„Aè‚¡å†å²æ•°æ®è·å–ã€å­˜å‚¨å’Œå¯è§†åŒ–åˆ†æå¹³å°ï¼Œæ”¯æŒä»1990å¹´è‡³ä»Šçš„å®Œæ•´è‚¡ç¥¨å’ŒæŒ‡æ•°æ•°æ®ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹è‰²

### ğŸ“ˆ æ•°æ®è·å–
- **Kçº¿æ•°æ®è·å–**: æ”¯æŒæ‰€æœ‰Aè‚¡è‚¡ç¥¨ä»1990å¹´è‡³ä»Šçš„å†å²Kçº¿æ•°æ®
- **æŒ‡æ•°æ•°æ®è·å–**: æ”¯æŒä¸»è¦è‚¡ç¥¨æŒ‡æ•°çš„å†å²æ•°æ®
- **è‡ªåŠ¨é‡è¯•æœºåˆ¶**: å†…ç½®ç½‘ç»œé‡è¯•å’Œé”™è¯¯æ¢å¤æœºåˆ¶
- **è¿›åº¦è·Ÿè¸ª**: å®æ—¶ä¸‹è½½è¿›åº¦ç›‘æ§å’Œæ–­ç‚¹ç»­ä¼ 

### ğŸŒ Webå¯è§†åŒ–
- **äº¤äº’å¼å›¾è¡¨**: åŸºäºPlotly.jsçš„é«˜è´¨é‡äº¤äº’å¼è‚¡ç¥¨å›¾è¡¨
- **å¤šè‚¡ç¥¨å¯¹æ¯”**: æ”¯æŒåŒæ—¶å¯¹æ¯”å¤šåªè‚¡ç¥¨çš„ä»·æ ¼èµ°åŠ¿
- **æ ‡å‡†åŒ–åˆ†æ**: æä¾›ä»·æ ¼æ ‡å‡†åŒ–å¯¹æ¯”åŠŸèƒ½
- **æŒ‡æ•°å¯¹ç…§**: å®æ—¶æ˜¾ç¤ºè‚¡ç¥¨ä¸å¸‚åœºæŒ‡æ•°çš„å¯¹æ¯”
- **Macè§¦æ‘¸æ¿ä¼˜åŒ–**: å®Œç¾æ”¯æŒMacè§¦æ‘¸æ¿çš„ç¼©æ”¾å’Œå¹³ç§»æ“ä½œ

### ğŸ“± ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å¿«é€Ÿæœç´¢**: ä¼˜åŒ–çš„è‚¡ç¥¨æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…
- **å®æ—¶äº¤äº’**: é¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºè¯¦ç»†æ•°æ®
- **ç°ä»£åŒ–ç•Œé¢**: åŸºäºBootstrapçš„ç¾è§‚ç•Œé¢è®¾è®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.7+
- ç½‘ç»œè¿æ¥

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/jiejieguan/35years-a-.git
cd 35years-a-
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **ä¸‹è½½æ•°æ®**ï¼ˆâš ï¸ é‡è¦ï¼šæ•°æ®æ–‡ä»¶è¾ƒå¤§ï¼ŒæœªåŒ…å«åœ¨ä»“åº“ä¸­ï¼‰
```bash
# æ¨èï¼šä¸€æ¬¡æ€§ä¸‹è½½å…¨éƒ¨æ•°æ®ï¼ˆ1990å¹´è‡³ä»Šï¼‰
python full_download_1990.py

# æˆ–è€…åˆ†æ­¥ä¸‹è½½ï¼š
# ä¸‹è½½æŒ‡æ•°æ•°æ®ï¼ˆè¾ƒå¿«ï¼Œçº¦10åˆ†é’Ÿï¼‰
python run_index_download.py

# ä¸‹è½½Kçº¿æ•°æ®ï¼ˆè¾ƒæ…¢ï¼Œçº¦2-6å°æ—¶ï¼‰
python run_kline_download.py
```

> ğŸ“‹ **æ•°æ®è¯´æ˜**: ç”±äºæ•°æ®åº“æ–‡ä»¶çº¦2.3GBï¼Œæ— æ³•ä¸Šä¼ åˆ°GitHubã€‚è¯·æŸ¥çœ‹ [DATA_SETUP.md](DATA_SETUP.md) äº†è§£è¯¦ç»†çš„æ•°æ®ç”Ÿæˆæ­¥éª¤ã€‚

5. **å¯åŠ¨Webåº”ç”¨**
```bash
# ä½¿ç”¨ä¾¿æ·è„šæœ¬
./start_web_app.sh

# æˆ–ç›´æ¥è¿è¡Œ
python web_chart_app.py
```

6. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5002

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
35years-a-/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ a_share_kline_fetcher.py    # Kçº¿æ•°æ®è·å–æ¨¡å—
â”‚   â”œâ”€â”€ major_index_fetcher.py      # æŒ‡æ•°æ•°æ®è·å–æ¨¡å—
â”‚   â”œâ”€â”€ web_chart_app.py           # Webå›¾è¡¨åº”ç”¨
â”‚   â”œâ”€â”€ interactive_chart_plotter.py # äº¤äº’å¼å›¾è¡¨ç”Ÿæˆ
â”‚   â””â”€â”€ kline_data_query.py        # æ•°æ®æŸ¥è¯¢å·¥å…·
â”œâ”€â”€ ğŸš€ å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ run_kline_download.py      # Kçº¿æ•°æ®ä¸‹è½½
â”‚   â”œâ”€â”€ run_index_download.py      # æŒ‡æ•°æ•°æ®ä¸‹è½½
â”‚   â”œâ”€â”€ full_download_1990.py      # å®Œæ•´æ•°æ®ä¸‹è½½
â”‚   â”œâ”€â”€ start_web_app.sh          # Webåº”ç”¨å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ start_interactive_chart.sh # äº¤äº’å¼å›¾è¡¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸŒ Webå‰ç«¯
â”‚   â”œâ”€â”€ templates/index.html       # ä¸»é¡µé¢æ¨¡æ¿
â”‚   â”œâ”€â”€ static/css/style.css      # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ static/js/app.js          # å‰ç«¯JavaScript
â”œâ”€â”€ ğŸ’¾ æ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ output/
â”‚       â”œâ”€â”€ kline_data/           # Kçº¿æ•°æ®åº“å’Œè¿›åº¦æ–‡ä»¶
â”‚       â””â”€â”€ index_data/           # æŒ‡æ•°æ•°æ®åº“
â””â”€â”€ ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ Webå›¾è¡¨åº”ç”¨ä½¿ç”¨è¯´æ˜.md
    â”œâ”€â”€ äº¤äº’å¼å›¾è¡¨ä½¿ç”¨è¯´æ˜.md
    â”œâ”€â”€ ä½¿ç”¨è¯´æ˜_Kçº¿æ•°æ®è·å–.md
    â””â”€â”€ æ•°æ®æ›´æ–°è¯´æ˜_1990è‡³ä»Š.md
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### å‘½ä»¤è¡Œæ•°æ®æŸ¥è¯¢
```python
from kline_data_query import KlineDataQuery

query = KlineDataQuery()
# æŸ¥è¯¢è´µå·èŒ…å°2023å¹´æ•°æ®
data = query.query_stock_data('600519', '2023-01-01', '2023-12-31')
print(data.head())
```

### Webç•Œé¢æ“ä½œ
1. åœ¨è‚¡ç¥¨é€‰æ‹©æ¡†ä¸­æœç´¢è‚¡ç¥¨ï¼ˆæ”¯æŒä»£ç æˆ–åç§°ï¼‰
2. é€‰æ‹©å¯¹æ¯”æŒ‡æ•°
3. è®¾ç½®æ—¶é—´èŒƒå›´ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡»"ç”Ÿæˆäº¤äº’å¼å›¾è¡¨"
5. ä½¿ç”¨é¼ æ ‡æˆ–è§¦æ‘¸æ¿è¿›è¡Œäº¤äº’æ“ä½œ

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
- Kçº¿æ•°æ®: `output/kline_data/a_share_klines.db`
- æŒ‡æ•°æ•°æ®: `output/index_data/major_indices.db`
- æ”¯æŒSQLiteï¼Œæ— éœ€é¢å¤–é…ç½®

### ç½‘ç»œé…ç½®
- è‡ªåŠ¨å¤„ç†ä»£ç†é—®é¢˜
- å†…ç½®é‡è¯•æœºåˆ¶
- æ”¯æŒæ–­ç‚¹ç»­ä¼ 

## ğŸ“Š æ•°æ®è¯´æ˜

### Kçº¿æ•°æ®å­—æ®µ
- `date`: äº¤æ˜“æ—¥æœŸ
- `open`: å¼€ç›˜ä»·
- `high`: æœ€é«˜ä»·
- `low`: æœ€ä½ä»·
- `close`: æ”¶ç›˜ä»·
- `volume`: æˆäº¤é‡
- `amount`: æˆäº¤é¢

### æ”¯æŒçš„æŒ‡æ•°
- ä¸Šè¯æŒ‡æ•°
- æ·±è¯æˆæŒ‡
- åˆ›ä¸šæ¿æŒ‡
- ç§‘åˆ›50
- ä¸­å°æ¿æŒ‡
- ç­‰æ›´å¤šæŒ‡æ•°...

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [AKShare](https://github.com/akfamily/akshare) - ä¼˜ç§€çš„é‡‘èæ•°æ®æ¥å£
- [Plotly.js](https://plotly.com/javascript/) - å¼ºå¤§çš„å›¾è¡¨åº“
- [Flask](https://flask.palletsprojects.com/) - è½»é‡çº§Webæ¡†æ¶

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼
