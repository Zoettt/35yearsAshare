# 📊 交互式股票图表使用说明

## 🎯 功能概述

`interactive_chart_plotter.py` 现已升级为完全交互式图表工具，支持鼠标悬浮显示详细数据。

## 🚀 主要特性

### ✨ 交互式功能
- **鼠标悬浮显示数据**：将鼠标移到图表上的任意点，即可显示：
  - 股票名称和代码
  - 具体日期
  - 开盘价、收盘价、最高价、最低价
  - 成交量和成交额
  - 标准化价格（如启用标准化模式）

### 📈 图表特点
- **点大小 = 成交量**：图表上的每个点大小代表当日成交量
- **多股票对比**：支持同时显示多个股票的走势
- **指数对比线**：红色虚线显示上证指数走势
- **标准化模式**：可将不同价位的股票统一到同一基准线对比

### 🔧 操作功能
- **缩放**：鼠标滚轮缩放图表
- **平移**：拖拽移动图表视野
- **图例控制**：点击图例可隐藏/显示对应数据线
- **工具栏**：右上角提供缩放、重置、下载等功能

## 🎮 使用方法

### 1. 启动脚本
```bash
cd /Users/guanjie/Desktop/cursor/longbridge
source venv/bin/activate  # 激活虚拟环境
python interactive_chart_plotter.py
```

### 2. 输入参数示例
- **股票代码**: `600519` 或 `600519,000001` （茅台，平安银行）
- **指数名称**: `上证指数` （默认）
- **标准化对比**: `y` （推荐，便于不同价位股票对比）
- **时间范围**: `2024-01-01` （可选，筛选特定时间段）

### 3. 输出文件
- **HTML交互图表**: `output/标准化对比交互图_YYYYMMDD_HHMMSS.html`
- **双击HTML文件**即可在浏览器中打开查看交互效果

## 💡 使用技巧

### 🎯 鼠标操作
- **悬浮**: 显示具体数据点信息
- **滚轮**: 缩放图表
- **拖拽**: 移动图表视野
- **双击**: 重置缩放

### 📊 图表解读
1. **点的大小**：越大表示成交量越大
2. **标准化模式**：所有股票以第一个数据点为100基准
3. **指数对比**：红色虚线帮助判断股票相对市场表现

### 🔍 数据详情
悬浮时显示的信息包括：
```
贵州茅台 (sh600519)
日期: 2024-09-03
标准化价格: 145.67
原始价格: 1234.56
成交量: 1,234,567
成交额: 1,523,456,789元
```

## 📋 技术说明

- **图表引擎**: Plotly（替代matplotlib）
- **文件格式**: HTML（可在任何浏览器打开）
- **数据来源**: 本地SQLite数据库
- **响应式**: 支持桌面和移动设备

## 🎨 自定义选项

### 支持的股票代码格式
- `600519` → 自动转换为 `sh600519`
- `600519.SH` → 转换为 `sh600519`
- `sh600519` → 直接使用
- `000001,300001` → 支持多股票输入

### 可选的指数
- 上证指数（默认）
- 深证成指
- 创业板指
- 科创50
- 沪深300
- 上证50
- 北证50

## 🆚 对比功能

1. **标准化对比模式**
   - 将所有股票/指数以首日为100基准
   - 便于比较不同价位股票的涨跌幅表现
   - 适合分析相对表现

2. **绝对价格模式**
   - 显示真实股价
   - 适合查看具体价位
   - 成交量点大小仍然保留

## 🎉 享受交互式体验！

现在您可以通过鼠标与图表进行丰富的交互，获取更详细的数据洞察！
